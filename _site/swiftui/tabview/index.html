<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iOS å¼€å‘æ ˆ | å…¨é¢æŒæ¡ï¼SwiftUI2.0ä¸­TabViewçš„çŸ¥è¯†å’Œç”¨æ³•</title>
  
  <link rel="stylesheet" href="/assets/css/post.css" />
  <link rel="stylesheet" href="/assets/css/syntax.css" />
  
  <link rel="stylesheet" href="/assets/css/common.css" />
  <script src="/assets/js/categories.js"></script>
  
  <script defer src="/assets/js/lbox.js"></script>
  
</head>

  <body>
    <main>
      <header>
  <a class="site-title" href="/">iOS å¼€å‘æ ˆ</a>
</header>

      <section class="article">
        <div class="article-header">
          <h2 class="article-title">å…¨é¢æŒæ¡ï¼SwiftUI2.0ä¸­TabViewçš„çŸ¥è¯†å’Œç”¨æ³•</h2>
          <small class="date">20 May 2021</small>
        </div>
        <div class="content"><p>ç»å¤§å¤šæ•°Appçš„åº•éƒ¨éƒ½æœ‰Tabbaræ¥åˆ‡æ¢ä¸åŒçš„åŠŸèƒ½ï¼Œåœ¨UIKitæ¡†æ¶ä¸­ä½¿ç”¨<code class="language-plaintext highlighter-rouge">UITabbarController</code>æ¥å®ç°è¿™æ ·çš„æ“ä½œï¼Œåˆ°äº†SwiftUIä¸­è¢«<code class="language-plaintext highlighter-rouge">TabView</code>å–ä»£äº†ã€‚</p>

<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†å­¦ä¹ å…³äº<code class="language-plaintext highlighter-rouge">TabView</code>çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œé«˜é˜¶ç”¨æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬è¿™å‡ ä¸ªä¸»è¦æ–¹é¢ï¼š</p>

<ol>
  <li>æ€ä¹ˆåˆ›å»º<code class="language-plaintext highlighter-rouge">TabView</code></li>
  <li><code class="language-plaintext highlighter-rouge">TabView</code>æ¯”<code class="language-plaintext highlighter-rouge">UITabbarController</code>çš„ä¼˜åŠ¿</li>
  <li>è‡ªå®šä¹‰TabViewçš„å¤–è§‚
<!-- more -->
ç»å¤§å¤šæ•°Appçš„åº•éƒ¨éƒ½æœ‰Tabbaræ¥åˆ‡æ¢ä¸åŒçš„åŠŸèƒ½ï¼Œåœ¨UIKitæ¡†æ¶ä¸­ä½¿ç”¨<code class="language-plaintext highlighter-rouge">UITabbarController</code>æ¥å®ç°è¿™æ ·çš„æ“ä½œï¼Œåˆ°äº†SwiftUIä¸­è¢«<code class="language-plaintext highlighter-rouge">TabView</code>å–ä»£äº†ã€‚</li>
</ol>

<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°†å­¦ä¹ å…³äº<code class="language-plaintext highlighter-rouge">TabView</code>çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œé«˜é˜¶ç”¨æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬è¿™å‡ ä¸ªä¸»è¦æ–¹é¢ï¼š</p>

<ol>
  <li>æ€ä¹ˆåˆ›å»º<code class="language-plaintext highlighter-rouge">TabView</code></li>
  <li><code class="language-plaintext highlighter-rouge">TabView</code>æ¯”<code class="language-plaintext highlighter-rouge">UITabbarController</code>çš„ä¼˜åŠ¿</li>
  <li>è‡ªå®šä¹‰TabViewçš„å¤–è§‚</li>
</ol>

<p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p>

<p><img src="../../images/swiftui-tabview/first.png" alt="" /></p>

<h1 id="å¼€å§‹ä½¿ç”¨tabview"><a href="#å¼€å§‹ä½¿ç”¨TabView" title="å¼€å§‹ä½¿ç”¨TabView"></a>å¼€å§‹ä½¿ç”¨<code class="language-plaintext highlighter-rouge">TabView</code></h1>

<h2 id="æœ€åŸºç¡€çš„tabview"><a href="#æœ€åŸºç¡€çš„TabView" title="æœ€åŸºç¡€çš„TabView"></a>æœ€åŸºç¡€çš„TabView</h2>

<p>1<br />
2<br />
3<br />
4</p>

<p>TabView {<br />
 ContentView()<br />
 SecondView()<br />
}</p>

<p>è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ªæœ€ç®€å•çš„<code class="language-plaintext highlighter-rouge">TabView</code>ï¼Œå’Œå…¶ä»–å¾ˆå¤šSwiftUIçš„æ§ä»¶ä¸€æ ·TabViewçš„åˆå§‹åŒ–ä¹Ÿæ˜¯æ¥æ”¶ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">@ViewBuilder</code>ä¿®é¥°çš„View<code class="language-plaintext highlighter-rouge">public init(@ViewBuilder content: () -&gt; Content)</code>ã€‚</p>

<p>å…¶ä¸­çš„<code class="language-plaintext highlighter-rouge">ContentView</code>å’Œ<code class="language-plaintext highlighter-rouge">SecondView</code>æ˜¯<code class="language-plaintext highlighter-rouge">TabView</code>çš„ä¸¤ä¸ª<code class="language-plaintext highlighter-rouge">Tabbar</code>ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ²¡æœ‰è®¾ç½®<code class="language-plaintext highlighter-rouge">Tabbar</code>çš„å›¾ç‰‡å’Œæ–‡å­—ï¼Œæ­¤æ—¶Appæœ€åº•éƒ¨çš„å¯¼èˆªæ æ˜¯ç©ºçš„ã€‚</p>

<h2 id="ç»™tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—"><a href="#ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—" title="ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—"></a>ç»™Tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—</h2>

<p>å¾—ç›ŠäºSwiftUIçš„å£°æ˜å¼è¯­æ³•ï¼Œæˆ‘ä»¬è®¾ç½®tabbarä¸­æ–‡å­—å’Œå›¾ç‰‡çš„æ•ˆç‡æ¯”UIKité«˜äº†10å€ã€‚</p>

<p>1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9</p>

<p>TabView {<br />
 ContentView()<br />
 .tabItem { Label(â€œMenuâ€, systemImage: â€œlist.dashâ€) }<br />
 SecondView()<br />
 .tabItem {<br />
 Image(systemName: â€œsquare.and.pencilâ€)<br />
 Text(â€œMeâ€)<br />
 }<br />
}</p>

<p><img src="../../images/swiftui-tabview/essential-tabview.png" alt="" /></p>

<p>ç»™tabbarè®¾ç½®å›¾ç‰‡å’Œæ–‡å­—ä½¿ç”¨çš„æ˜¯<code class="language-plaintext highlighter-rouge">tabItem</code><a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential#Modifer">è§†å›¾ä¿®æ”¹å™¨</a>ã€‚</p>

<p>ç¬¬ä¸€ç§è®¾ç½®æ–‡å­—å’Œå›¾ç‰‡çš„æ–¹æ³•æ˜¯ä½¿ç”¨<code class="language-plaintext highlighter-rouge">Label</code>æ§ä»¶ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªæ–‡å­—å’Œä¸€ä¸ªå›¾ç‰‡ä½œä¸ºå‚æ•°æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œç¬¬äºŒç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨äº†ä¸€æ®µæ–‡å­—å’Œä¸€å¼ å›¾ç‰‡ã€‚</p>

<p>ç”±äºtabItemä¿®æ”¹å™¨çš„å‚æ•°æ˜¯ä¸€ç»„Viewæ‰€ä»¥åŸåˆ™ä¸Šæ¥è¯´å¯ä»¥ä½¿ç”¨ä»»æ„Viewæ¥è®¾ç½®tabbarçš„æ ·å¼ã€‚</p>

<p>1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14</p>

<p>struct Tabbar: View {<br />
 var body: some View {<br />
 VStack {<br />
 Text(â€œ1â€)<br />
 Text(â€œ2â€)<br />
 Image(systemName: â€œsquare.and.pencilâ€)<br />
 Image(systemName: â€œlist.dashâ€)<br />
 }<br />
 }<br />
}</p>

<p>.tabItem {<br />
 Tabbar()<br />
}</p>

<p>ä½¿ç”¨äº†ä¸€ä¸ªåŒ…å«ä¸¤æ®µæ–‡å­—å’Œä¸¤å¼ å›¾ç‰‡çš„Tabbaræ¥è®¾ç½®<code class="language-plaintext highlighter-rouge">tabItem</code>ï¼Œæœ€ç»ˆèƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥çš„æ˜¯<code class="language-plaintext highlighter-rouge">Text("1")</code>å’Œ<code class="language-plaintext highlighter-rouge">Image(systemName: "square.and.pencil")</code>ï¼Œæ‰€ä»¥tabItemåœ¨å®ç°çš„æ—¶å€™åº”è¯¥æ˜¯ä½¿ç”¨çš„å­è§†å›¾ä¸­çš„ç¬¬ä¸€æ®µæ–‡å­—å’Œç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œä¸”ä¸è®ºæ–‡å­—å’Œå›¾ç‰‡çš„é¡ºåºå¦‚ä½•ï¼Œå®ƒä»¬æœ€ç»ˆå±•ç¤ºå‡ºæ¥çš„ä½ç½®éƒ½ä¸ä¼šå˜ã€‚</p>

<h1 id="è‡ªå®šä¹‰tabviewå¤–è§‚"><a href="#è‡ªå®šä¹‰TabViewå¤–è§‚" title="è‡ªå®šä¹‰TabViewå¤–è§‚"></a>è‡ªå®šä¹‰<code class="language-plaintext highlighter-rouge">TabView</code>å¤–è§‚</h1>

<h2 id="ä¿®æ”¹tabviewçš„æ ·å¼"><a href="#ä¿®æ”¹tabViewçš„æ ·å¼" title="ä¿®æ”¹tabViewçš„æ ·å¼"></a>ä¿®æ”¹tabViewçš„æ ·å¼</h2>

<p>ä½¿ç”¨<code class="language-plaintext highlighter-rouge">tabViewStyle</code>ä¿®æ”¹å™¨æ¥è®¾ç½®ä¸åŒçš„æ ·å¼å¯ä»¥è½»æ˜“æ»¡è¶³ä¸åŒçš„åœºæ™¯éœ€è¦ã€‚</p>

<p>TabViewStyle</p>

<p>è§£é‡Š</p>

<p>DefaultTabViewStyle</p>

<p>é»˜è®¤æ ·å¼ï¼Œæ•ˆæœç±»ä¼¼UITabbarController</p>

<p>PageTabViewStyle</p>

<p>æ²¡æœ‰ä¸‹é¢çš„æ ‡ç­¾ï¼Œå¯ä»¥å·¦å³æ»šåŠ¨ï¼Œå¸¸è§äºæ–°é—»App</p>

<p>ä½¿ç”¨æ–¹å¼ï¼š</p>

<p>1<br />
2<br />
3<br />
4</p>

<p>TabView {</p>

<p>}<br />
.tabViewStyle(DefaultTabViewStyle())</p>

<h2 id="è®¾ç½®tabbaritemçš„é€‰ä¸­é¢œè‰²"><a href="#è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²" title="è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²"></a>è®¾ç½®tabbarItemçš„é€‰ä¸­é¢œè‰²</h2>

<p>ä½¿ç”¨<code class="language-plaintext highlighter-rouge">accentColor()</code><a href="https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential#Modifer">ä¿®æ”¹å™¨</a>å¯ä»¥è®¾ç½®tabItemçš„é€‰ä¸­é¢œè‰²ã€‚</p>

<p>1<br />
2<br />
3<br />
4</p>

<p>.tabItem {<br />
 Label(â€œMenuâ€, systemImage: â€œlist.dashâ€)<br />
}<br />
.accentColor(.green)</p>

<p><code class="language-plaintext highlighter-rouge">accentColor</code>æ˜¯è®¾ç½®Viewé«˜äº®é¢œè‰²çš„ä¿®æ”¹å™¨ï¼Œè®¾ç½®åtabItemåœ¨æœªé€‰ä¸­çŠ¶æ€ä¸‹æ˜¯ç°è‰²ï¼Œé€‰ä¸­åæ˜¯greenç»¿è‰²ã€‚</p>

<h2 id="å¯¼èˆªæ§åˆ¶å™¨éšè—tabbar"><a href="#å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar" title="å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar"></a>å¯¼èˆªæ§åˆ¶å™¨éšè—TabBar</h2>

<h3 id="è‡ªåŠ¨éšè—åº•éƒ¨tabbar"><a href="#è‡ªåŠ¨éšè—åº•éƒ¨tabbar" title="è‡ªåŠ¨éšè—åº•éƒ¨tabbar"></a>è‡ªåŠ¨éšè—åº•éƒ¨tabbar</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NavigationView {  
 TabView(selection: $tabViewSelection) {  
 List(1...10, id: .self) {index in  
 NavigationLink(  
 destination: Text("Item (index) Details"),  
 label: {  
 Text("Item (index)")  
 })  
 }  
 .tabItem {  
 Label("Menu", systemImage: "list.dash")  
 }  
 .accentColor(.blue)  
 .navigationTitle("Menu")  
 .tag(0)  
   
 Text("Second Page")  
 .navigationTitle("Me")  
 .tabItem {  
 Label("Me", systemImage: "square.and.pencil")  
 }  
 .navigationTitle("Home")  
 .accentColor(.red)  
 .tag(1)  
 }  
 .navigationTitle(tabViewSelection == 0 ? "Home" : "Me")  
}  
</code></pre></div></div>
<p>å°†TabViewåµŒå¥—åœ¨NavigationViewé‡Œé¢ä¹Ÿå°±æ˜¯è¯´TabViewæ•´ä½“ä½œä¸ºå¯¼èˆªæ ˆçš„é¦–é¡µï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å®ç°åˆ‡æ¢åˆ°äºŒçº§é¡µé¢è‡ªåŠ¨éšè—åº•éƒ¨Tabbarçš„æ•ˆæœã€‚</p>

<p>ä¸è¿‡è¿™æ ·åšä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼šTabViewè¢«å½“ä½œä¸€ä¸ªé¡µé¢æ¥çœ‹å¾…ï¼Œé‚£ä¹ˆè®¾ç½®çš„<code class="language-plaintext highlighter-rouge">navigationTitle</code>ä¼šå¯¹æ•´ä¸ªTabViewç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´å½“åˆ‡æ¢tabItemçš„æ—¶å€™å¯¼èˆªæ æ ‡é¢˜ä¸ä¼šæ”¹å˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæ ¹æ®å½“å‰é€‰ä¸­çš„tabItemæ¥åˆ‡æ¢æ ‡é¢˜ã€‚å…³äºæ€ä¹ˆè·å–é€‰ä¸­çš„tabItemå’Œ<code class="language-plaintext highlighter-rouge">tag</code>çš„å†…å®¹æˆ‘ä»¬ä¸‹é¢å†è¯´ã€‚</p>

<h3 id="ä¸éšè—åº•éƒ¨tabbar"><a href="#ä¸éšè—åº•éƒ¨tabbar" title="ä¸éšè—åº•éƒ¨tabbar"></a>ä¸éšè—åº•éƒ¨tabbar</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TabView {  
 NavigationView {  
 List(1...10, id: .self) {index in  
 NavigationLink(  
 destination: Text("Item (index) Details"),  
 label: {  
 Text("Item (index)")  
 })  
 }  
 .navigationTitle("Home")  
 }  
 .tabItem {  
 Label("Menu", systemImage: "list.dash")  
 }  
   
 NavigationView {  
 Text("Second Page")  
 .navigationTitle("Me")  
 }  
 .tabItem {  
 Label("Me", systemImage: "square.and.pencil")  
 }  
}  
</code></pre></div></div>
<p>æ¯ä¸€ä¸ªNavigationViewæ˜¯ä¸€ä¸ªTabItemï¼Œå½“navigationViewåˆ‡æ¢åˆ°äºŒçº§é¡µé¢æ—¶tabBarä»ç„¶ä¼šæ˜¾ç¤ºã€‚</p>

<p>å…³äºSwiftUIå¯¼èˆªæ ç›¸å…³çš„å†…å®¹å¯ä»¥æŸ¥çœ‹<a href="https://www.iosprogrammer.tech/swiftui/swiftui-navigate-get-start-tutorial">ä½ åº”è¯¥çŸ¥é“çš„ï¼å…³äºSwiftUIä¸­å¯¼èˆªæ çš„4ç‚¹çŸ¥è¯†</a>ã€‚</p>

<h1 id="tabviewé€‰ä¸­çš„tabitem"><a href="#TabViewé€‰ä¸­çš„tabItem" title="TabViewé€‰ä¸­çš„tabItem"></a>TabViewé€‰ä¸­çš„tabItem</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public init(selection: Binding&lt;SelectionValue&gt;?, @ViewBuilder content: () -&gt; Content)  
</code></pre></div></div>
<p>åœ¨<code class="language-plaintext highlighter-rouge">TabView</code>çš„åˆå§‹åŒ–æ–¹æ³•ä¸­é™¤äº†contentä¹‹å¤–è¿˜æœ‰ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">selection</code>å‚æ•°ï¼Œå®ƒçš„ç±»å‹æ˜¯<code class="language-plaintext highlighter-rouge">Bind&lt;SelectionValue&gt;</code>ï¼Œè¿™ç§ç±»å‹çš„å‚æ•°å¯ä»¥æ¥å—ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">@State</code>ä¿®é¥°çš„å‚æ•°ï¼Œå…³äº@Stateå’Œå‚æ•°ç»‘å®šç›¸å…³çš„å†…å®¹å¯ä»¥æŸ¥çœ‹[å­¦ä¹ SwiftUIï¼Œå¿…é¡»æŒæ¡çš„3ä¸ªçŸ¥è¯†ç‚¹](%5Bhttps%5D(https://www.iosprogrammer.tech/swiftui/swiftui-concept-essential)ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@State var tabViewSelection = 0  
TabView(selection: $tabViewSelection)  
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">tabViewSelection</code>æ˜¯ä¸€ä¸ªè¢«@Stateç»‘å®šçš„å˜é‡ï¼Œå°†å®ƒä¼ é€’ç»™TabViewçš„åˆå§‹åŒ–æ–¹æ³•ä¹‹åï¼Œå½“åˆ‡æ¢TabItemæ—¶è¯¥å˜é‡ä¼šè¢«ä¿®æ”¹ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Button("Go to Home") {  
  tabViewSelection = 0  
}  
</code></pre></div></div>
<p>é€šè¿‡ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ¥ä¿®æ”¹<code class="language-plaintext highlighter-rouge">tabViewSelection</code>å˜é‡çš„å€¼ï¼ŒtabViewè¢«é€‰ä¸­çš„tabItemå°±ä¼šæˆç¬¬0ä¸ªã€‚</p>

<p>åˆ°å…¬ä¼—å·ã€iOSå¼€å‘æ ˆã€‘å­¦ä¹ æ›´å¤šSwiftUIã€iOSå¼€å‘ç›¸å…³å†…å®¹ã€‚</p>

<h1 id="æ€»ç»“"><a href="#æ€»ç»“" title="æ€»ç»“"></a>æ€»ç»“</h1>

<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä¸»è¦äº†è§£äº†tabViewçš„ç”¨æ³•å’Œæ€ä¹ˆä¿®æ”¹tabViewä»¥åŠtabItemçš„æ ·å¼ï¼Œä»¥åŠå…³äºç»‘å®štabViewé€‰ä¸­çš„itemçš„æ–¹æ³•ï¼Œç›¸ä¿¡ç°åœ¨ä½ å·²ç»å¯¹SwiftUIæ¡†æ¶ä¸­çš„tabViewæœ‰äº†ä¸€ä¸ªå…¨é¢çš„æŒæ¡ï¼Œèµ¶ç´§ç”¨èµ·æ¥å§ğŸ˜Š</p>
</div>
      </section>
      <footer>
  <p>&copy; 1947 - 2022 | iOS å¼€å‘æ ˆ</p>
</footer>

    </main>
    <section id="category-modal-bg"></section>
<section id="category-modal">
  <h1 id="category-modal-title"></h1>
  <section id="category-modal-content"></section>
</section>

  </body>
</html>

